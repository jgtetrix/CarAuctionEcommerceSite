<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Create Account</title>
            <script src="https://kit.fontawesome.com/dac92d3981.js" crossorigin="anonymous"></script>
            <link rel="stylesheet" href="style.css">
            <style>
                input[type="submit"] {
                    padding: 10px;
                    background-color: blue;
                    color: white;
                    border: none;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 16px;
		        }
                input[type="submit"]:hover {
                    background-color: rgb(8, 8, 183);

                }
            </style>
        
    </head>

    <body>
        <section id="header">
            <a href="#"><img src="img/BidNDrive.png" class="logo" alt="BidNDrive Logo" height="150"></a>
            <div>
                <ul id="navbar">
                    <li><a href="index.html">Auctions</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="account.html"><img src="img/accounticon.png" class="logo" alt="Account Logo" height="30"></a></li>
                </ul>
            </div>
        </section>

        <h2 id="about-middle-header">Create Account:</h2>
	    <section id="form-info">
		<form id="login-form" method="post" >
            <label for="name">Name:</label>
			<input type="text" id="name" name="name" required>
            <label for="email">Email:</label>
			<input type="text" id="email" name="email" required>
            <label for="number">Phone Number:</label>
			<input type="tel" id="number" name="number" pattern="[0-9]{3}[0-9]{3}[0-9]{4}" required>
			<label for="username">Username:</label>
			<input type="text" id="username" name="username" required>
			<label for="password">Password:</label>
			<input type="password" id="password" name="password" required>
			<input type="submit" value="Create Account">
		</form>
	</section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function() {
			$('#login-form').submit(function(event) {
				event.preventDefault(); // prevent default form submission
                var name = $('#name').val();
                var email = $('#email').val();
                var number = $('#number').val();
				var username = $('#username').val();
				var password = $('#password').val();
				$.ajax({
				url: 'createAccount.php', // PHP script to handle login
				type: 'post',
				data: {name: name, email: email, number: number, username: username, password: password},
				success: function(response) {
					if (response.trim() === 'success') {
						window.location.href = 'account.php?'
					} else if (response.trim() === 'taken')  {
					// Display error message
					    $('#login-form').append('<p style="color:red">A User with this Email or Username is already created.\n Please use different information</p>');
					}
                    else if (response.trim() === 'failed'){
                        $('#login-form').append('<p style="color:red">There was an issue processing your request. Try again later.</p>');
                    }
				}
				});
			});
		});
	</script>



    <footer class="section-p1">
        <div class="details">
            <img src="img/BidNDrive.png" height="300">
            <h4>Contact:</h4>
            <p><Strong>Address:</Strong> 1000 Morris Ave, Union, New Jersey, 07083</p>
            <p><Strong>Phone:</Strong> +1 888 888 8888</p>
            <p><Strong>Hours:</Strong> 08:00 - 16:00 EST Monday - Friday</p>
        </div>
        <div id="copyright">
            <p>BidNDrive.com Â© 2022 BidNDrive </p>
        </div>
    </footer>
    </body>
  
</html>